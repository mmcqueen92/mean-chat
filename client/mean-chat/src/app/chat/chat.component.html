<div class="chat-container" *ngIf="activeChat">
  <div class="chat-header">
    <h2>
      <ng-container *ngFor="let participant of participants; let last = last">
        {{ participant.name }}
        <span *ngIf="!last">, </span>
        <button
          *ngIf="!participant.inUserContacts"
          (click)="addToContacts(participant.email)"
        >
          Add to Contacts
        </button>
      </ng-container>
    </h2>
  </div>

  <div class="chat-messages">
    <!-- list of chat messages -->
    <div class="message" *ngFor="let message of messages">
      <div class="message-sender">{{ message.sender.name }}:</div>
      <div class="message-content">{{ message.text }}</div>
    </div>
    <div *ngIf="messages.length === 0" class="no-messages">
      Send a message to get started
    </div>
  </div>

  <div class="chat-input">
    <input
      type="text"
      [(ngModel)]="messageText"
      placeholder="Type your message..."
    />

    <button (click)="sendMessage()" class="send-button">Send</button>
  </div>
</div>

<div class="no-chat-selected" *ngIf="!activeChat">No chat selected</div>
